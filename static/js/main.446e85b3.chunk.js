(this.webpackJsonprainbowsixsiegestats=this.webpackJsonprainbowsixsiegestats||[]).push([[0],{35:function(e,a,t){e.exports=t(77)},40:function(e,a,t){},41:function(e,a,t){},43:function(e,a,t){},68:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(31),r=t.n(c),s=(t(40),t(7)),o=(t(41),t(42),t(43),t(9)),i=t(2),m=t(11),u=t.n(m),d={count:0,dependencies:!1},p=function(e,a){var t=e.count,n=e.dependencies;switch(a.type){case"add":return 0===e.count&&(n=!0),{count:++t,dependencies:n};case"delete":return 1===e.count&&(n=!1),{count:--t,dependencies:n};default:throw new Error}},v=function(){var e=Object(n.useReducer)(p,d),a=Object(i.a)(e,2),t=a[0],l=a[1];return[t.dependencies,function(){console.log("counter before add "),console.log(t),l({type:"add"})},function(){console.log("counter before delete "),console.log(t),l({type:"delete"})}]},E=t(14),f=t(16),b=t(15),N=t.n(b),g=(t(68),function(e){e.callback;var a=Object(n.useState)(""),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),d=m[0],p=m[1],b=v(),g=Object(i.a)(b,3),h=g[0],O=g[1],j=g[2],y=Object(o.f)(),k=function(e){return l.a.createElement("div",{key:e.p_id,className:"user",onClick:function(){return a=e.p_id,void y.push("/user/".concat(a));var a}},l.a.createElement("div",{className:"name"},e.p_name))};return l.a.createElement("header",{className:"App-header"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"title"},"Rainbow Six Siege Stats")),l.a.createElement("form",{className:"col-6",onSubmit:function(e){O(),u.a.get("https://r6tab.com/api/search.php?platform=uplay&search="+c).then((function(e){console.log(e),p(e.data.results)})).finally((function(e){j()})),e.preventDefault()}},l.a.createElement("input",{placeholder:"Type your username in R6",onChange:function(e){r(e.target.value)}}),l.a.createElement(E.a,{className:"ml-3",icon:f.b}))),l.a.createElement("div",{className:"row justify-center"},h?l.a.createElement("div",{className:"loading"},l.a.createElement(N.a,{size:50,color:"#09d3ac"})):l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"users-list"},d?d.map(k):null)))))}),h=function(e){var a=e.className,t=e.title,n=e.stats,c=e.col;return l.a.createElement("div",{className:a},l.a.createElement("div",{className:"window"},l.a.createElement("div",{className:"title"},t),l.a.createElement("div",{className:"items"},n?Object.entries(n).map((function(e){return l.a.createElement("div",{key:e[0],className:"item col-".concat(12/c)},l.a.createElement("div",{className:"prop-name"},e[0]),l.a.createElement("div",{className:"prop-value"},e[1]))})):null)))},O=t(34),j=t.n(O),y=(t(75),function(e){var a=e.name,t=e.regions,c=Object(n.useState)(""),r=Object(i.a)(c,2),s=r[0],o=r[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){for(var e=Object.values(t)[0].max,a=0,n=Object.values(t);a<n.length;a++){var l=n[a];e.id<l.max.id&&(e=l.max)}o(e)}),[]);return l.a.createElement("div",{className:"season-label col-12"},l.a.createElement("div",{className:"head",onClick:function(){console.log(d),p(!d)}},l.a.createElement("div",{className:"left"},l.a.createElement("img",{src:s.image,className:"rank-img",alt:s.name}),l.a.createElement("div",{className:"name"},a)),l.a.createElement("div",{className:"right"},l.a.createElement(E.a,{className:"arrow",icon:f.a}))),l.a.createElement("div",{className:"body"},l.a.createElement(j.a,{duration:500,height:d?"auto":0},Object.values(t).map((function(e){return 0!==e.matches?function(e){return l.a.createElement("div",{className:"region-stats"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"property"},l.a.createElement("div",{className:"key"},"MMR"),l.a.createElement("div",{className:"value"},e.current.mmr)),l.a.createElement("div",{className:"property"},l.a.createElement("div",{className:"key"},"Kills"),l.a.createElement("div",{className:"value"},e.kills)),l.a.createElement("div",{className:"property"},l.a.createElement("div",{className:"key"},"Deaths"),l.a.createElement("div",{className:"value"},e.deaths))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"property"},l.a.createElement("div",{className:"key"},"Matches"),l.a.createElement("div",{className:"value"},e.matches)),l.a.createElement("div",{className:"property"},l.a.createElement("div",{className:"key"},"Wins"),l.a.createElement("div",{className:"value"},e.wins)),l.a.createElement("div",{className:"property"},l.a.createElement("div",{className:"key"},"Losses"),l.a.createElement("div",{className:"value"},e.losses)),l.a.createElement("div",{className:"property"},l.a.createElement("div",{className:"key"},"Abandons"),l.a.createElement("div",{className:"value"},e.abandons))))}(e):null})))))}),k=function(e){var a=e.seasons;return l.a.createElement("div",{className:"container seasonsView"},l.a.createElement("div",{className:"row"},a?Object.values(a).map((function(e){var a=e.name,t=e.regions;return l.a.createElement(y,{key:a,name:a,regions:t})})):null))},w=function(e){var a=e.url;return l.a.createElement("nav",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement(s.b,{to:"".concat(a)},"Overall")),l.a.createElement("div",{className:"col-3"},l.a.createElement(s.b,{to:"".concat(a,"/seasons")},"Seasons")),l.a.createElement("div",{className:"col-3"},l.a.createElement(s.b,{to:"".concat(a,"/operators")},"Operators")),l.a.createElement("div",{className:"col-3"},l.a.createElement(s.b,{to:"".concat(a,"/weapons")},"Weapons")))))},S=function(e,a){for(var t=e.sortedState,n=e.sortedRecords,l=0;l<t.length;l++)l===a.colNumber?t[l]=1===t[l]?-1:1:t[l]=0;return n=n.sort((function(e,n){return 1===t[a.colNumber]?Object.values(n)[a.colNumber]-Object.values(e)[a.colNumber]:Object.values(e)[a.colNumber]-Object.values(n)[a.colNumber]})),{sortedState:t,sortedRecords:n}},x=(t(76),function(e){var a=e.id,t=e.attributes,c=e.records,r=e.firstFieldAttribute,s=function(e,a,t){var l=Object(n.useReducer)(S,{sortedState:[],sortedRecords:[]}),c=Object(i.a)(l,2),r=c[0],s=c[1];Object(n.useEffect)((function(){for(var a=[],n=0;n<t;n++)a.push(0);r.sortedState=a,r.sortedRecords=e}),[]);return[function(e){return s({colNumber:e})}]}(c,c.length,t.length),o=Object(i.a)(s,1)[0],m=Object(n.useState)(-1),u=Object(i.a)(m,2),d=u[0],p=u[1],v=function(e){console.log("Clicked!"),o(e),p(e)},E=function(e,a){return l.a.createElement("tr",{key:"tr-".concat(e)},Object.values(a).map((function(e,a){return function(e,a){return r?l.a.createElement("td",{key:e,className:0===e?"firstField":null},a):l.a.createElement("td",null,a)}(a,e)})))};return l.a.createElement("div",{className:"responsive-overflow-wrapper"},l.a.createElement("table",{key:a,className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,t.map((function(e,a){return function(e,a){return r?e?l.a.createElement("th",{className:d===e?"clicked":null,key:e,onClick:function(){return v(e)}},a):l.a.createElement("th",{className:"firstField",key:e},a):l.a.createElement("th",{className:d===e?"clicked":null,key:e,onClick:function(){return v(e)}},a)}(a,e)})))),(console.log(c),l.a.createElement("tbody",null,c.map((function(e,a){return E(a,e)}))))))}),F=function(e){var a=e.weapons,t=Object(n.useState)([]),c=Object(i.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var e=Object.values(a).map((function(e){return e.list})).flat(1);e.forEach((function(e){return delete e.bulletsFired})),s(e)}),[]),r.length?(console.log(r),l.a.createElement("section",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"row-element"},l.a.createElement(x,{id:"weapons",attributes:["Weapon","Kills","Deaths","Headshots","Bullets Connected","Time Chosen"],records:r,firstFieldAttribute:!0})))))):null},D=function(e){var a,t=e.attackers,c=e.defenders,r=Object(n.useState)(0),s=Object(i.a)(r,2),o=s[0],m=s[1],u=function(e,a){var t=o===a?"active":"";return l.a.createElement("div",{className:"title ".concat(t),onClick:function(){return m(a)}},e)},d=[l.a.createElement(x,{key:"attackers",id:"attackers",records:t,firstFieldAttribute:!0,attributes:["Operator","Kills","Deaths","Wins","Losses","Headshots","Melee Kills","DBNO","XP","Play Time"]}),l.a.createElement(x,{key:"defenders",id:"defenders",records:c,firstFieldAttribute:!0,attributes:["Operator","Kills","Deaths","Wins","Losses","Headshots","Melee Kills","DBNO","XP","Play Time"]})];return l.a.createElement("section",{id:"operators"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},(a=["Attackers","Defenders"],l.a.createElement("div",{className:"nav-section row-element"},a.map(u))),l.a.createElement("div",{className:"row-element"},d[o]))))},C=function(){var e=Object(o.g)().userId,a=Object(o.h)(),t=a.path,c=a.url,r=Object(n.useState)(""),s=Object(i.a)(r,2),m=s[0],d=s[1],p=Object(n.useState)(""),E=Object(i.a)(p,2),f=E[0],b=E[1],g=Object(n.useState)(""),O=Object(i.a)(g,2),j=O[0],y=O[1],S=Object(n.useState)([]),x=Object(i.a)(S,2),C=x[0],R=x[1],A=Object(n.useState)([]),B=Object(i.a)(A,2),K=B[0],P=B[1],W=v(),M=Object(i.a)(W,3),T=M[0],H=M[1],I=M[2],L=function(e,a){var t=Object.assign({},e),n=Object.values(t).filter((function(e){return e.role===a}));return n.forEach((function(e){delete e.badge,delete e.role,delete e.ctu,delete e.gadget})),n},_=function(){var a="".concat("https://rmas.pl/r6api","/rank/all/uplay/").concat(e);console.log(a),H(),u.a.get(a).then((function(e){console.log(e.data[0]);var a=function(e){var a=Object.values(e).sort((function(e,a){return a.id-e.id}));return console.log(a),a}(e.data[0].seasons);b(a),I()})).catch((function(e){I(),console.log("Can't get data about Seasons from Ubi API")}))};Object(n.useEffect)((function(){!function(){var a="".concat("https://rmas.pl/r6api","/user/");H(),u.a.get(a+"uplay/"+e).then((function(e){console.log(e.data),d(e.data),y(e.data.pvp.weapons),R(L(e.data.pvp.operators,"defender")),P(L(e.data.pvp.operators,"attacker")),I()})).catch((function(e){I(),console.log("Can't get data about Player from Ubi API")}))}(),_()}),[]);var z=function(){return l.a.createElement("div",{className:"loading"},l.a.createElement(N.a,{size:50,color:"#09d3ac"}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,{url:c}),l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:t,component:function(){return T?z():function(){var e=m?{"Time Played":(m.pvp.general.playtime/3600).toFixed(2)+"h","Matches Played":m.pvp.general.matches,"Kills / Match":(m.pvp.general.kills/m.pvp.general.matches).toFixed(3),Kills:m.pvp.general.kills,Deaths:m.pvp.general.deaths,"K/D Ratio":(m.pvp.general.kills/m.pvp.general.deaths).toFixed(4),Wins:m.pvp.general.wins,Losses:m.pvp.general.losses,"W/L Ratio":(m.pvp.general.wins/m.pvp.general.losses).toFixed(4),"Bullets fired":m.pvp.general.bulletsFired,"Bullets Connected":m.pvp.general.bulletsConnected,Accuracy:(m.pvp.general.bulletsConnected/m.pvp.general.bulletsFired*100).toFixed(2)+"%"}:null,a=m?{Assists:m.pvp.general.assists,Revievs:m.pvp.general.revives,"Gadgets destroyed":m.pvp.general.gadgetsDestroyed,Suicides:m.pvp.general.suicides,Barricades:m.pvp.general.barricadesDeployed,Reinforcments:m.pvp.general.reinforcementsDeployed,"Rappel Breaches":m.pvp.general.rappelBreaches,"Down but no out":m.pvp.general.dbno,"DBNO assist":m.pvp.general.dbnoAssists}:null,t=m?{"Total kills":m.pvp.general.kills,"Blind kills":m.pvp.general.blindKills,"Melee kills":m.pvp.general.meleeKills,"Penetration kills":m.pvp.general.penetrationKills,Headshots:m.pvp.general.headshots,"Headshot %":(m.pvp.general.headshots/m.pvp.general.kills*100).toFixed(2)+"%"}:null;return l.a.createElement("section",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"player-name"},m.name),l.a.createElement("div",{className:"row"},l.a.createElement(h,{title:"Overall Stats",className:"col-12",col:3,stats:e}),l.a.createElement(h,{title:"Team Play",className:"col-12",col:3,stats:a}),l.a.createElement(h,{title:"Kills Breakdown",className:"col-12",col:2,stats:t}))))}()}}),l.a.createElement(o.a,{path:"".concat(t,"/seasons"),component:function(){return T?z():l.a.createElement(k,{seasons:f})}}),l.a.createElement(o.a,{path:"".concat(t,"/weapons"),component:function(){return T?z():l.a.createElement(F,{weapons:j})}}),l.a.createElement(o.a,{path:"".concat(t,"/operators"),component:function(){return T?z():l.a.createElement(D,{attackers:K,defenders:C})}})))},R=function(){return l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:function(){return l.a.createElement(g,null)}}),l.a.createElement(o.a,{path:"/user/:userId",component:function(){return l.a.createElement(C,null)}}))};var A=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(s.a,{basename:"/rainbowsixsiegestats"},l.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.446e85b3.chunk.js.map